<html>
<head>
	<meta charset="UTF-8">

	<script>
		var saldo = 100.5;
		var nome;

		function inserir_nome() {
			nome = prompt('Insira seu nome');
			alert(`Olá ${nome}, é um prazer ter você aqui!`);
			inicio();
		}


		function inicio() {
			var escolha = parseInt(prompt('Selecione uma opção: 1.) Saldo | 2.) Extrato | 3.) Saque | 4.) Depósito | 5) Transferência | 6) Sair'));
			switch (escolha) {
				case 1:
					ver_saldo()
					break;
				case 2:
					ver_extrato()
					break;
				case 3:
					fazer_saque()
					break;
				case 4:
					fazer_deposito()
					break;
				case 5:
					fazer_transferencia()
					break;
				case 6:
					sair();
					break;
				default:
					alert('Por favor informe um número de 1 à 6.')
					inicio();
			}
		}

		function ver_extrato() {
			senha = prompt('Qual a senha?');
			if (senha == 3589){
				alert(`EXTRATO BANCÁRIO de ${nome}
				Saldo --------- R$10,00 foram retirados dia 02/03.
				Depósito --------- R$300,90 foram depositados hoje às 8:10.
				Transferênncia --------- R$20,00 foram transferidos para o ID: 007 hoje às 05:00.
			
				Preto Animal ocasional Camiseta/Shein --------- Valor de R$43,90.
				Guingão ocasional roupa Confortável --------- Valor de R$65,90.
				Gráfico ocasional Camiseta --------- Valor R$48,95.
				PC Gamer NTC Vulcano II Intel Core i7-10700, 4.8Ghz, 16GB RAM, SSD 240GB, Linux - 7164 --------- Valor de R$4.769,90.`);
				inicio();
			} else {
				alert('Senha inválida.');
				ver_extrato();
			}
			
		}

		function fazer_transferencia() {
			var id = (prompt(`Informe a ID de quem receberá a transferência:`));

			if (isNaN(id) || id === "" || id <= 0) {
				alert(`Por favor, insira um número válido:`);
				fazer_transferencia();
			}

			var transferencia = parseFloat(prompt('Valor da transferência:'));

			if (isNaN(transferencia) || transferencia === "" || transferencia <= 0 || transferencia >= saldo) {
				alert(`Por favor, insira um número válido e/ou um valor que tenha disponível.`)
				fazer_transferencia();
			} else {

				senha = prompt('Qual a senha?')

				if (senha == 3589) {
					saldo -= transferencia;
					alert(`Um valor de ${transferencia} foi transferido para o ID: ${id}`);
					inicio();
				} else {
					alert(`Senha inválida`)
					fazer_transferencia();
				}
			}
		}

		function ver_saldo() {
			senha = prompt('Qual a senha?');
			if (senha == 3589){
				alert(`Seu saldo atual é ${saldo}`);
				inicio();
			} else {
				alert('Senha inválida.');
				inicio();	
			}
			
		}

		function fazer_deposito() {
			var deposito = parseFloat(prompt('Qual o valor para depósito?'));
			if (isNaN(deposito) || deposito === '' || deposito <= 0 ) {
				alert('Por favor, informe um número:');
				fazer_deposito();
			} else {
				saldo += deposito;
				ver_saldo();
			}
		}

		function fazer_saque() {
			var saque = parseFloat(prompt('Qual o valor para saque?'));
    			if (isNaN(saque) || saque === '' || saque <= 0 || saque >= saldo) {
       				 alert('Por favor, informe um valor válido.');
        			 fazer_saque();
    			} else {
        			senha = prompt('Qual a senha?');
        			if (senha == 3589) {
						saldo -= saque;
						alert(`Você executou um saque de R$${saque}`);
						alert(`Seu saldo atual é ${saldo}`);
						inicio();
        		} else  {
					alert('Senha inválida.')
            		fazer_saque();
        		}
			}
		}

		function sair() {
			var confirma = confirm('Você deseja sair?');
			if (confirma) {
				alert(`${nome}, foi um prazer ter você aqui!`)
				window.close();
			} else {
				inicio();
			}
		}
		

		inserir_nome();
	</script>
</head>

<body>

</body>

</html>